/*! GUCE 1.0.103 Copyright 2018 Oath Holdings, Inc. */
!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=22)}([function(e,t,n){"use strict";t.__esModule=!0,function(e){e.success="success",e.fail="fail",e.missingParams="missingParams"}(t.SetSessionStatus||(t.SetSessionStatus={})),function(e){e.backgroundPost="backgroundPost",e.done="done",e.error="error",e.interaction="interaction",e.view="view"}(t.LogEventType||(t.LogEventType={})),function(e){e.contextData="contextData",e.setCookies="setCookies",e.dimensions="dimensions",e.done="done",e.log="log",e.navigate="navigate",e.redirect="redirect",e.resize="resize",e.getSession="getSession",e.setSession="setSession",e.setSessionStatus="setSessionStatus",e.getData="getData",e.invokeCTA="invokeCTA",e.frameReady="frameReady",e.frameDisplayed="frameDisplayed"}(t.MessageType||(t.MessageType={})),function(e){e.blank="blank",e.self="self"}(t.NavigationTarget||(t.NavigationTarget={}))},function(e,t,n){"use strict";t.__esModule=!0;var o=decodeURIComponent,i=/; */;function r(e,t){try{return t(e)}catch(t){return e}}t.default=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},s=t||{},a=e.split(i),c=s.decode||o,u=0;u<a.length;u++){var l=a[u],f=l.indexOf("=");if(!(f<0)){var d=l.substr(0,f).trim(),p=l.substr(++f,l.length).trim();'"'===p[0]&&(p=p.slice(1,-1)),void 0===n[d]&&(n[d]=[]),n[d].push(r(p,c))}}return n}},function(e,t,n){"use strict";t.__esModule=!0;var o=window;function i(e){var t=+new Date,n=[];for(var o in e)o&&e.hasOwnProperty(o)&&null!=e[o]&&n.push(encodeURIComponent(o)+"="+encodeURIComponent(""+e[o]));return"https://ganon.yahoo.com/p?s=1197805870&t="+t+"&"+n.join("&")}function r(e,t){"function"==typeof o.dispatchEvent&&"function"==typeof o.CustomEvent&&o.dispatchEvent(new CustomEvent("guce-beacon",{detail:{eventType:e,params:t}}))}function s(e,t,n,o){e.addEventListener(t,n,{capture:!1,passive:o})}function a(e,t,n){var i,r,a=!1,c=function(){i=null,o.clearTimeout(r),t&&t()};if(!n&&o.navigator&&"function"==typeof o.navigator.sendBeacon)try{o.navigator.sendBeacon(e)?c():a=!0}catch(e){a=!0}else a=!0;a&&(s(i=new Image,"error",c),s(i,"load",c),s(i,"abort",c),i.src=e,r=o.setTimeout(c,1e3))}t.logEvent=function(e,t,n,s){var c=s||o.OathGUCE&&o.OathGUCE.lastDecision&&o.OathGUCE.lastDecision.normalizedOptions;if(null==e||null==t||null==c||c.reportOnly)n&&n();else{t._R=o.location.hostname,t._w=t._w?t._w:o.location.href,t.etrg=e,t.ver=t.ver,t.gm_vn="1.0.103",t.gm_beu=c.isProductEU?"1":"0",t.gm_inline=c.inlineConsent?"1":"0",t.gm_lang=c.locale;var u=c.consentHost,l=u&&u.substring(u.indexOf("guce.")+5);t.gm_np=l&&l.substring(0,l.indexOf("."));var f=t;t.ver||(t.ver="gucejs"),a(i(f),n),r(e,f)}},t.buildBeaconUrl=i,t.fireCustomEvent=r,t.fireBeacon=a},function(e,t,n){"use strict";t.__esModule=!0;var o,i=n(9),r=n(0),s=n(2),a=n(10),c=window,u=new RegExp("^(auto|0)$|^[+-]?[0-9]+.?([0-9]+)?(px|em|ex|%|in|cm|mm|pt|pc)$");function l(e){if(e){var t=e.split("/");return t[0]+"//"+t[2]}return""}function f(e,t){return(e+"/").indexOf("/"+t+"/")>0||(e+"/").indexOf("."+t+"/")>0||(""+e).indexOf("/"+t+":")>0||(""+e).indexOf("."+t+":")>0}function d(e){var t=l(e);return 0===t.indexOf("https://")&&(f(t,"oath.com")||f(t,"yahoo.com"))}t.isInlineConsentSupported=function(e){var t=Element.prototype,n="MatchesSelector",o=t.matches||t["o"+n]||t["ms"+n]||t["moz"+n]||t["webkit"+n],i=c.postMessage,r=t.querySelector;return e?!!i:!!o&&!!i&&!!r},t.isValidCSSPropertyValue=function(e){return u.test(e)},t.getUrlOrigin=l,t.isSafeUrl=d;var p=function(){function e(e,t,n,i,r,s,a,u){e&&(this.scriptContext=s,this.redirectUri=t,this.inlineUri=e,this.initialCookies=n,this.frameUIConfigs=r,this.enableCustomController=u,this.authorizedMessageOrigin=function(e){var t=l(e),n=t;if(-1===t.indexOf("guce.")){var o=e.indexOf("?");if(-1!==o)for(var i=e.substr(o).split("&"),r=0;r<i.length;r++){var s=i[r].split("=");"redirect_uri"===s[0]&&(n=l(decodeURIComponent(s[1])))}}return n}(e),this.handlers=[],this.sessionKey=a,o=c.OathGUCE&&c.OathGUCE.perf||c.VMediaLGPD&&c.VMediaLGPD.perf||c.OathReConsent&&c.OathReConsent.perf,this.lastFocus=document.activeElement,this.lastFocus&&this.lastFocus.blur(),i&&(this.doneCallback=i),this.attachEventListeners(),u?(this.executeInlineConsent=this.customExecuteInlineConsent,this.closeFrame=this.handleCTADone):this.insertConsentIFrame(e))}return e.prototype.attachEventListeners=function(){var e=this.handlePostMessage.bind(this),t=this.handleWindowResize.bind(this);c.addEventListener("message",e),this.handlers.push({eventType:"message",eventListener:e,target:c}),c.addEventListener("resize",t),this.handlers.push({eventType:"resize",eventListener:t,target:c})},e.prototype.detachEventListeners=function(){for(var e=0;e<this.handlers.length;e+=1)this.handlers[e].target.removeEventListener(this.handlers[e].eventType,this.handlers[e].eventListener),this.handlers[e]=null;this.handlers=[]},e.prototype.handlePostMessage=function(e){if(e.origin===this.authorizedMessageOrigin||"https://guce.oath.com"===e.origin){var t;if(this.frameInitTimeout>0&&(c.clearTimeout(this.frameInitTimeout),this.frameInitTimeout=null),void 0===o.frameLoaded&&(o.frameLoaded=+new Date),e.data)try{t=JSON.parse(e.data)}catch(e){return}switch(t.messageType){case r.MessageType.redirect:this.redirectToConsentUri();break;case r.MessageType.navigate:if(d(t.url))this.logInlineConsentEvent(r.LogEventType.backgroundPost,{outcm:"iframe navigate",_w:t.url},(function(){a.default(t.url,t.target)}));else{var n="unsafe url";t.url||(n="missing url"),this.logInlineConsentEvent(r.LogEventType.backgroundPost,{outcm:"iframe navigate",etag:n})}break;case r.MessageType.setCookies:this.setCookiesIfSafe(t.cookies);break;case r.MessageType.dimensions:this.resizeFrame({width:t.width,height:t.height});break;case r.MessageType.log:this.decorateTrackingParams(t.eventType,t.trackingParams),this.logInlineConsentEvent(t.eventType,t.trackingParams);break;case r.MessageType.done:this.customMessageHandler?this.customMessageHandler(t):this.handleCTADone(t);break;default:return void(this.customMessageHandler&&this.customMessageHandler(t))}}},e.prototype.decorateTrackingParams=function(e,t){if(t)switch(e){case r.LogEventType.view:t.gm_pfd=o.frameLoaded-o.start,t.gm_pfl=o.frameLoaded-o.frameInserted;break;case r.LogEventType.interaction:case r.LogEventType.done:t.gm_pfv=+new Date-o.frameLoaded;break;default:return}},e.prototype.handleWindowResize=function(){var e={messageType:r.MessageType.resize};this.postCrossFrameMessage(e)},e.prototype.resizeFrame=function(e){this.frame.style.width="100%",this.frame.style.height=e.height+"px"},e.prototype.insertConsentIFrame=function(e,t){var n=this;this.frame=document.createElement("iframe");var i=this.frame,s=i.style,a=this.frameUIConfigs||{};i.id="guce-inline-consent-iframe",i.src=e,i.tabIndex=1,i.frameBorder="0",s.bottom=a.bottom||"0",s.height="0",s.left=a.left||"0",s.margin="0 auto",s.maxWidth=a.maxWidth||"1050px",s.position="fixed",s.right=a.right||"0",s.width="100%",s.zIndex="99999",t&&(s.visibility="hidden"),document.body.appendChild(i),void 0===o.frameInserted&&(o.frameInserted=+new Date),this.frameInitTimeout=c.setTimeout((function(){n.logInlineConsentEvent(r.LogEventType.error,{outcm:"frame init fail"}),n.cleanConsentIframe(!0)}),6e4)},e.prototype.cleanConsentIframe=function(e){this.resizeFrame({width:"0",height:"0"}),this.detachEventListeners(),this.lastFocus&&this.lastFocus.focus(),e&&this.frame&&(document.getElementById(this.frame.id)&&document.body.removeChild(this.frame),this.frame=null),this.doneCallback&&this.doneCallback()},e.prototype.redirectToConsentUri=function(){this.redirectUri&&a.default(this.redirectUri)},e.prototype.setCookiesIfSafe=function(e){if(i.default(e,this.initialCookies)){for(var t=0;t<e.length;t++)this.setCookie(e[t]);this.logInlineConsentEvent(r.LogEventType.backgroundPost,{outcm:"iframe set cookies"})}else this.logInlineConsentEvent(r.LogEventType.backgroundPost,{outcm:"iframe set cookies",etag:"failed"})},e.prototype.setCookie=function(e){document.cookie=e},e.prototype.postCrossFrameMessage=function(e){var t=JSON.stringify(e);this.frame.contentWindow.postMessage(t,this.authorizedMessageOrigin)},e.prototype.postInvokeCTAMessage=function(){var e={messageType:r.MessageType.invokeCTA};this.postCrossFrameMessage(e)},e.prototype.getContextData=function(){var e={messageType:r.MessageType.getData,sessionKey:this.sessionKey};this.postCrossFrameMessage(e)},e.prototype.setFrameSession=function(e){var t={messageType:r.MessageType.setSession,sessionKey:this.sessionKey,session:e};this.postCrossFrameMessage(t)},e.prototype.trackUserInteraction=function(){var e=document,t=this.postInvokeCTAMessage.bind(this);e.addEventListener("click",t,!0),this.handlers.push({eventType:"click",eventListener:t,target:e})},e.prototype.logInlineConsentEvent=function(e,t,n){this.scriptContext&&(t.ver=this.scriptContext),n?s.logEvent(e,t,n):s.logEvent(e,t)},e.prototype.displayFrame=function(){this.frame.style.visibility="visible",this.postCrossFrameMessage({messageType:r.MessageType.frameDisplayed})},e.prototype.hideFrame=function(){this.frame.style.visibility="hidden"},e.prototype.customExecuteInlineConsent=function(e,t){e&&(this.customMessageHandler=e),this.insertConsentIFrame(this.inlineUri,!t)},e.prototype.handleCTADone=function(e){this.decorateTrackingParams(r.LogEventType.done,e.trackingParams),this.logInlineConsentEvent(r.LogEventType.done,e.trackingParams),this.cleanConsentIframe()},e}();t.default=p},function(e,t,n){var o,i,r;!function(s){"use strict";if(null!=t&&"number"!=typeof t.nodeType)e.exports=s();else if(null!=n(12))i=[],void 0===(r="function"==typeof(o=s)?o.apply(t,i):o)||(e.exports=r);else{var a=s(),c="undefined"!=typeof self?self:$.global;"function"!=typeof c.btoa&&(c.btoa=a.btoa),"function"!=typeof c.atob&&(c.atob=a.atob)}}((function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{btoa:function(n){for(var o,i,r=String(n),s=0,a=e,c="";r.charAt(0|s)||(a="=",s%1);c+=a.charAt(63&o>>8-s%1*8)){if((i=r.charCodeAt(s+=.75))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|i}return c},atob:function(n){var o=String(n).replace(/[=]+$/,"");if(o.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,s=0,a=0,c="";r=o.charAt(a++);~r&&(i=s%4?64*i+r:r,s++%4)?c+=String.fromCharCode(255&i>>(-2*s&6)):0)r=e.indexOf(r);return c}}}))},function(e,t,n){"use strict";t.__esModule=!0,t.encodeUrlSafeBase64=function(e){return e.replace(/\+/g,"-").replace(/\//g,"_")},t.decodeUrlSafeBase64=function(e){return e.replace(/-/g,"+").replace(/_/g,"/")},t.parseCookieValue=function(e){for(var t={},n=e.split("&"),o=0,i=n.length;o<i;o++){var r=n[o].split("=");if(1===r.length){if("first"in t)return;t.first=r[0]}else t[r[0]]=r[1]}return t},t.composeCookieValue=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)&&"string"==typeof e[n]){var o=e[n];t.push(n+"="+o)}return t.join("&")},t.serializeCookie=function(e,t,n){var o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(!o.test(e))throw new TypeError("Cookie name is invalid");if(t&&!o.test(t))throw new TypeError("Cookie val is invalid");var i=e+"="+t;if(null!=n.maxAge){var r=n.maxAge-0;if(isNaN(r))throw new Error("maxAge should be a Number");i+="; Max-Age="+Math.floor(r)}if(n.domain){if(!o.test(n.domain))throw new TypeError("option domain is invalid");i+="; Domain="+n.domain}if(n.path){if(!o.test(n.path))throw new TypeError("option path is invalid");i+="; Path="+n.path}return n.secure&&(i+="; Secure"),i}},,function(e,t,n){"use strict";t.__esModule=!0,t.yo="http://yo/guce-js",t.api="OathGUCE",t.version="1.0.103",t.warn=function(e,n){if(console){var o=n?"Unable to continue. Fix: "+t.yo+"-define":t.yo;console.warn(t.api+" "+t.version+": "+e+" "+o)}},t.log=function(e){console&&console.log(t.api+" "+t.version+": "+e+" "+t.yo+"-report-only")}},function(e,t,n){"use strict";t.__esModule=!0;t.default=function(e){for(var t=1,n=0,o=0,i=e.length;o<i;++o)n=(n+(t=(t+e.charCodeAt(o))%65521))%65521;return n<<16|t}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(1),i=n(13);t.default=function(e,t){for(var n=!0,r=o.default(document.cookie),s=0;s<e.length;s++){var a=e[s];if(!(n=i.default(a,t,r)))break}return n}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(0);t.default=function(e,t){t===o.NavigationTarget.blank?window.open(e,"_newtab"):window.location.href=e}},function(e,t,n){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
e.exports=function(){var e,t=[],n=document,o=(n.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),o=1;e=t.shift();)e()}),function(e){o?setTimeout(e,0):t.push(e)}}()},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";t.__esModule=!0;var o=n(1),i=n(14);function r(e,t){return 0===e.indexOf(t)}t.default=function(e,t,n){if(!(r(e,"GUC=")||r(e,"B=")||r(e,"BX=")))return!1;var s=o.default(e);return!i.default(s,t,n)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){var o=Object.keys(e).pop(),i=e[o][0],r=t[o],s=n[o];if(!r&&s)return!0;if(r&&s)for(var a=!0,c=0;c<r.length;c++){for(var u=0;u<s.length;u++)if(r[c]===s[u]){a=!1;break}if(a)return a}if(s&&("B"===o||"BX"===o)){for(u=0;u<s.length;u++)if(s[u]===i)return!1;return!0}return!1}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(4),i=n(5);t.default=function(e){var t=function(e){var t,n=window.crypto,o="";if(n&&n.getRandomValues&&Uint8Array)t=new Uint8Array(5),n.getRandomValues(t);else{t=[];for(var i=0;i<5;i++)t.push(255*Math.random()|0)}for(i=0;i<5;i++)o+=String.fromCharCode(t[i]);return o}(),n=String.fromCharCode(1)+t,r=i.encodeUrlSafeBase64(o.btoa(n)),s=e,a=e.indexOf("guce.");return-1!==a&&(s=e.substring(a+5)),{cookiePair:i.serializeCookie("GUCS",r,{maxAge:1800,domain:s,path:"/",secure:!0}),gcrumb:i.encodeUrlSafeBase64(o.btoa(t))}}},function(e,t,n){"use strict";t.__esModule=!0;var o;!function(e){e.coreConsent="consent",e.reConsent="additionalConsent",e.lgpdConsent="lgpdConsent"}(o=t.serviceType||(t.serviceType={})),t.default=function(e){var t=!1;switch(e){case o.reConsent:t=!1;break;case o.lgpdConsent:t=!0;break;case o.coreConsent:default:t=!1}return t}},function(e,t,n){"use strict";function o(e,t){return 0===e.indexOf(t)}t.__esModule=!0,t.isValidConsentUri=function(e,t){if(!e)return!1;for(var n=["guce.oath.com","stage.guce.oath.com","consent.yahoo.com","stage.consent.yahoo.com","accounts.huffingtonpost.com"],i=["aol","engadget","mapquest","moviefone","techcrunch","yahoo"],r=!1,s=0;s<i.length;s++)n.push("api.login."+i[s]+".com");for(var a=0;a<n.length;a++)if(o(e,"https://"+n[a]+"/")){r=!0;break}return o(e,t+"/")||o(e,"https://dev.guce.oath.com:")||o(e,"https://dev.consent.yahoo.com:")||r}},,function(e,t,n){"use strict";t.__esModule=!0;var o=n(23),i=n(24),r=n(1),s=n(5);function a(e,t){var n=null,r=[];if(e.GUC&&e.GUC[0])try{n=i.default(s.parseCookieValue(e.GUC[0]))}catch(e){}for(var a=(e.B||[]).concat(e.BX||[]),c=0;c<a.length;c++)r.push(s.parseCookieValue(a[c]));var u={GUC:n,B:r};return{determination:o.default({consentCookies:u,isProductEU:t}),consentCookies:u}}t.decideWithCookie=function(e,t){return a(r.default(e),t)},t.decideWithParsedCookies=a},,,function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};t.__esModule=!0;var i,r=n(11),s=n(19),a=n(25),c=n(0),u=n(3),l=n(2),f=n(7),d=n(10),p=window,h=document;function m(e,t,n,r){var s=o({},n),a=t.cookieResult,u=t.remoteResult,f=t.redirectUri,d=t.inlineUri,p=t.unsafeRejectedUri;t.normalizedOptions&&t.normalizedOptions.beacon&&(e&&e.message&&(s.message=e.message),a&&(s.gm_crsn=a.determination.reason),u?(s.gm_ra=u.outcome,void 0!==u.statusCode&&(s.gm_hc=u.statusCode)):void 0!==t.outcome&&(s.gm_ra=t.outcome),d&&"redirect fallback"!==s.etag?s._w=d:f?s._w=f:p&&(s._w=p),void 0!==i.decision&&void 0!==i.start&&(s.gm_pjs=i.decision-i.start),l.logEvent(c.LogEventType.backgroundPost,o({outcm:"decision"},s),r))}function g(e,t){if(t){i.decision=+new Date;try{var n=t.normalizedOptions.reportOnly;if(n&&(f.warn("Report only mode, will not redirect the page or display inline consent."),f.log('Cookies: "'+h.cookie+'"'),f.log("Decision: "+JSON.stringify(t))),t.remoteResult){for(var o=t.remoteResult.cookies,s=0;s<o.length;s++)n?f.log("Would set cookie: "+o[s]):h.cookie=o[s];if(n){var a=t.remoteResult.unsafeRejectedCookies;for(s=0;s<a.length;s++)f.log("Rejected cookie: "+a[s])}}if(t.inlineUri&&t.redirectUri){if(!n)return void r((function(){!function(e){try{var t,n=new u.default(e.inlineUri,e.redirectUri,e.initialCookies,(function(){t>0&&window.clearTimeout(t)}));e.sessionExpiry>0&&(t=window.setTimeout((function(){n.cleanConsentIframe(!0),l.logEvent(c.LogEventType.done,{outcm:"session expired"})}),e.sessionExpiry)),m(null,e)}catch(t){e.redirectUri?m(t,e,{etag:"redirect fallback"},(function(){d.default(e.redirectUri)})):m(t,e,{etag:"inline failed"}),f.warn("Error during run: "+(t.message?t.message:t))}}(t)}));f.log("Would load inline consent iframe: "+t.inlineUri)}else if(t.redirectUri){if(!n)return void m(e,t,{},(function(){d.default(t.redirectUri)}));f.log("Would redirect: "+t.redirectUri)}e?(m(e,t,{etag:"failed"}),f.warn("Error during decision: "+(e.message?e.message:e))):m(e,t)}catch(e){m(e,t,{etag:"run failed"}),f.warn("Error during run: "+(e.message?e.message:e))}}}function v(e){i.start=+new Date,a.default(e,g)}p.location,p.OathGUCE||(p.OathGUCE={lastDecision:null,perf:{},run:function(e){if(a.isValidOptions(e))return f.warn(f.api+".run is deprecated. Load "+f.api+" async instead."),void v(e);f.warn("Invalid "+f.api+".run options.",!0)},$run:v,decideWithCookie:s.decideWithCookie,decide:a.default,report:function(){var e=o({},p.OathGUCE.lastDecision);e.normalizedOptions.reportOnly=!0,g(null,e)}}),i=p.OathGUCE.perf;var y=a.getOptionsFromMetaTags();y.autorun&&v(y)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.consentCookies,n=t.GUC;if(null===n)return{reason:1,action:1};var o=Date.now()/1e3|0,i=n.validityCheckTime<=o,r=n.expirationTime<=o,s=n.consented,a=n.tos,c=n.userType,u=0,l=0;return n.consentVersion<1?u=2:r?u=3:n.matchSubject(t)?1===a&&(0===c&&2!==s&&i?u=7:1===c&&(e.isProductEU?u=8:i&&(u=7))):u=4,0!==u&&(l=1),{reason:u,action:l}}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(4),i=n(8),r=n(5),s=function(){function e(e){this.tos=e.tos,this.userType=e.userType,this.consentVersion=e.consentVersion,this.consented=e.consented,this.subjectType=e.subjectType,this.subject=e.subject,this.validityCheckTime=e.validityCheckTime,this.expirationTime=e.expirationTime,this.version=e.version,this.sessionExpirationTime=e.sessionExpirationTime}return e.prototype.matchSubject=function(e){if(1===this.subjectType&&null!==e.B){for(var t=this.subject,n=0;n<e.B.length;n++){var o=e.B[n]&&e.B[n].first;if(o&&t===i.default(o))return!0}return!1}return!1},e}();function a(e,t,n){var o=0,i=function(n){return 255&e.charCodeAt(t+n)};if(2===n)o=(i(0)<<8|i(1))<<16;else if(3===n)o=(i(0)<<16|i(1)<<8|i(2))<<8;else for(var r=0;r<n;r++)o=o<<8|i(r);return o}t.CookieConsent=s,t.default=function(e){if(function(e){return!!e.first}(e))return function(e,t){var n=function(t){return e.charCodeAt(t)},o=0,i=n(o++),r=n(o++),c=n(o++),u=n(o++),l=n(o++),f=a(e,o,3),d=a(e,o+=3,2);o+=2;var p=e.substr(o++,1),h=a(e,o,4),m=0;"b"!==p&&"B"!==p||(m=1);var g=a(t,0,4);return new s({tos:r,userType:c,consentVersion:u,consented:l,subjectType:m,subject:h,validityCheckTime:f,expirationTime:d,version:i,sessionExpirationTime:g})}(o.atob(r.decodeUrlSafeBase64(e.first)),e.g?o.atob(r.decodeUrlSafeBase64(e.g)):"");throw new TypeError("Missing required data field.")}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(1),i=n(9),r=n(19),s=n(15),a=n(0),c=n(3),u=n(26),l=n(28),f=n(2),d=n(7),p=n(17),h=window,m=document;function g(e,t,n,r,s,a,u){var l=0;if(e)!function(e,t,n,o){var i=null,r=107;!function(e){return void 0!==e.cycles}(e)?function(e){return void 0!==e.status}(e)&&(r=e.status>0?113:107,i=e.status):r=112,n.remoteResult={outcome:r,statusCode:i,action:0,cookies:[],unsafeRejectedCookies:[]},d.warn("Consent check failure. Is "+t+" online?"),o(e,n)}(e,t,r,u);else{switch(a.action){case 2:return r.remoteResult=function(e,t){var n,r=[],s=[],a=e.unsafeCookies;return o.default(m.cookie),i.default(a,t)?(n=3,r=r.concat(a)):(n=106,s=s.concat(a)),{action:e.action,outcome:n,cookies:r,unsafeRejectedCookies:s}}(a,r.initialCookies),void u(e,r);case 4:l=110;case 3:var f=a.unsafeConsentUri,h=a.unsafeConsentInlineUri,g=c.isInlineConsentSupported(n.isProductEU),v=p.isValidConsentUri(f,t),y=p.isValidConsentUri(h,t);h&&(1==(l=n.isProductEU||n.inlineConsent?g?y?1:102:101:103)?(r.inlineUri=h,r.sessionExpiry=a.sessionExpiry):(r.unsafeRejectedUri=h,v||(l=114))),v?(0===l&&(l=2),r.redirectUri=f):f&&(l=105,r.unsafeRejectedUri=f);break;case 0:l=100;break;default:l=109}r.remoteResult={outcome:l,action:a.action,cookies:[],unsafeRejectedCookies:[]},u(e,r)}}function v(e,t,n){d.warn(t,!0),f.logEvent(a.LogEventType.backgroundPost,{outcm:"decision",etag:e}),n(new Error(t))}function y(e){return e&&e.consentHost&&void 0!==e.isProductEU}function C(){for(var e=m.getElementsByTagName("meta"),t={autorun:!0,beacon:!0},n=0;n<e.length;n++){var o=e[n];"oath:guce:product-eu"===o.name?t.isProductEU="true"===o.content:"oath:guce:consent-host"===o.name?t.consentHost=o.content:"oath:guce:report-only"===o.name?t.reportOnly="true"===o.content:"oath:guce:autorun"===o.name?t.autorun="false"!==o.content:"oath:guce:inline-consent"===o.name?t.inlineConsent="true"===o.content:"oath:guce:locale"===o.name?t.locale=o.content:"oath:guce:experiment"===o.name&&(t.experiment=o.content)}return t}t.isValidOptions=y,t.getOptionsFromMetaTags=C,t.default=function(e,t){function n(e,n){h.OathGUCE.lastDecision=n,t(e,n)}var i=e||C(),a={normalizedOptions:i};try{if(h.OathGUCE.lastDecision=a,!y(i))return void v("invalid config","Required <meta> tags are not properly set.",t);if(!l.default())return void v("cookies disabled","Cookies are disabled.",t);var c=i.cookie;void 0===c&&(c=m.cookie),a.initialCookies=o.default(c);var f=r.decideWithParsedCookies(a.initialCookies,i.isProductEU);a.cookieResult=f;var p=a;if(1===f.determination.action){if(!function(e){if(!e)return!1;var t=Date.now()/1e3|0;return e.sessionExpirationTime>t}(f.consentCookies.GUC))return void function(e,t,n,o){var i="https://"+e.consentHost,r=s.default(e.consentHost);m.cookie=r.cookiePair;var a={callbackURI:h.location.href,consentBaseURI:i,experiment:e.experiment,gcrumb:r.gcrumb,isProductEU:e.isProductEU,locale:e.locale,jsVersion:d.version,referrer:document.referrer};u.default(a,(function(t,r){try{g(t,i,e,n,0,r,o)}catch(e){o(e,n)}}))}(i,0,p,n);p.outcome=111}n(null,p)}catch(e){n(e,a)}}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();t.__esModule=!0;var i=n(16),r=n(27),s=function(e){function t(t,n){var o=e.call(this,t)||this;return o.cycles=n,o}return o(t,e),t}(Error);t.CycleError=s,t.default=function(e,t){if(i.default()){var n=e.consentBaseURI,o=e.isProductEU,a=e.callbackURI,c=e.gcrumb,u=e.locale,l=e.jsVersion,f=e.experiment,d=e.referrer,p=n+"/v1/consentCheck?brandType="+(o?"eu":"nonEu")+"&done="+encodeURIComponent(a)+"&gcrumb="+c;u&&(p+="&lang="+u),l&&(p+="&jsVersion="+encodeURIComponent(l)),f&&(p+="&experiment="+encodeURIComponent(f)),d&&(p+="&referer="+encodeURIComponent(d)),r.default(p,function(e,t){var n=e.consentBaseURI,o=e.callbackURI,i=e.gcrumb,a=(e.locale,0);return function e(c,u){if(c)t(c,{action:3});else{var l=null,f=1,d=u.json();if(function(e){return"collectConsent"===e.action}(d))!function(e,t){var n=e.collectConsent;t(null,{action:3,unsafeConsentUri:n.openUri,unsafeConsentInlineUri:n.inlineUri,sessionExpiry:"number"==typeof n.sessionExpiry?n.sessionExpiry:84e4})}(d,t);else{if(function(e){return"repeatConsentCheck"===e.action}(d)){if(!r.isCORSSupported()){var p=n+"/consent?done="+encodeURIComponent(o)+"&gcrumb="+i;return void t(l,{action:4,unsafeConsentUri:p})}if(a++<2)return void r.default(d.repeatConsentCheck.checkUri,e);l=new s("Too many rechecks.",a)}!function(e){return"setCookies"===e.action}(d)?("noAction"===d.action&&(f=0),t(l,{action:f})):t(l,{action:2,unsafeCookies:d.setCookies})}}}}(e,t))}else t(null,{action:0})}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();t.__esModule=!0;var i="responseText";t.isCORSSupported=function(){return"withCredentials"in new XMLHttpRequest};var r=function(e){function t(t,n){var o=e.call(this,t)||this;return o.status=n,o}return o(t,e),t}(Error);t.XhrError=r;var s=function(){function e(e){this[i]=e}return e.prototype.json=function(){var e;try{e=JSON.parse(this[i])}catch(e){throw new Error("Bad JSON: "+this[i])}return e},e}();t.XhrBody=s,t.default=function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.withCredentials=!0,n.onreadystatechange=function(){4===n.readyState&&function(e,t,n){200===e?n(null,new s(t)):n(new r("Bad status",e))}(n.status,n[i],t)},n.send()}},function(e,t,n){"use strict";t.__esModule=!0;var o=document;t.default=function(){if(!1===navigator.cookieEnabled)return!1;o.cookie="_GFT=1;";var e=-1!==o.cookie.indexOf("_GFT=");return o.cookie="_GFT=;max-age=0",e}}]);
//# sourceMappingURL=guce.js.map